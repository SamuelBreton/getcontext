!function(){window.dataLayer=window.dataLayer||[];const t={contextData:null,async fetchContextData(){if(this.contextData)return this.contextData;try{const t=await fetch("https://api.getcontext.dev/v1/context",{headers:{"User-Agent":navigator.userAgent}});return t.ok?(this.contextData=await t.json(),this.contextData):(console.error("Erreur lors de la récupération des données :",t.statusText),null)}catch(t){return console.error("Erreur lors de l'appel à l'API :",t),null}},async pushToDataLayer(){const t=await this.fetchContextData();if(t){const a={event:"context_ready",context:t};window.dataLayer.push(a),console.log("Données de contexte poussées dans le dataLayer :",a)}},async getContext(){return await this.fetchContextData()},async initialize(){await this.pushToDataLayer()}};window.contextManager=t,t.initialize()}();